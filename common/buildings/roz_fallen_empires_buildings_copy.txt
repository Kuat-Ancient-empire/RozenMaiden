#######################
#######################
#######################
#######################
#######################堕落帝国建筑复刻

building_roz_ancient_palace = {
    base_buildtime = @b2_time
    capital = yes
    can_build = no
    can_demolish = no
    position_priority = 0

    icon = building_palace

    category = government

    potential = {
        exists = owner
        owner = {

        }
    }

    planet_modifier = {
        planet_housing_add = 2000
        planet_amenities_add = 15000
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
        }
        modifier = {
            job_fe_overseer_add = 2
            job_fe_protector_add = 2
        }
    }

    resources = {
        category = planet_buildings
        cost = {
            minerals = @b2_minerals
        }
        upkeep = {
            energy = 10
        }
    }

    upgrades = {
    }
}

building_roz_affluence_center = {
    base_buildtime = @b2_time
    can_build = no
    can_demolish = yes
    can_be_disabled = no
    can_be_ruined = no
    icon = building_affluence_center
    building_sets = {
        urban
        government
    }    
    category = manufacturing
    potential = {
        exists = owner
        solar_system = {
            has_star_flag = graygoo_factory_system
        }
        owner = { has_country_flag = roz_lgate_create_flag }
    }
    planet_modifier = {
        planet_amenities_add = 1000
    }
    inline_script = {
        script = jobs/factory_add
        AMOUNT = @fe_jobs
    }
    resources = {
        category = planet_buildings
        produces = {
            consumer_goods = 100
        }
        upkeep = {
            minerals = 25
            energy = 10
        }
    }

    upgrades = {
    }
}

building_roz_nourishment_center = {
    base_buildtime = @b2_time
    can_build = no
    can_demolish = yes
    can_be_disabled = no
    can_be_ruined = no
    icon = building_nourishment_center
    building_sets = {
        urban
        government
    }  
    category = resource

    potential = {
        exists = owner
        solar_system = {
            has_star_flag = graygoo_factory_system
        }
        owner = { has_country_flag = roz_lgate_create_flag }
    }

    planet_modifier = {
        pop_environment_tolerance = 0.10
    }
    inline_script = {
        script = jobs/farmers_add
        AMOUNT = @fe_jobs
    }

    resources = {
        category = planet_buildings
        produces = {
            food = 350
        }
        upkeep = {
            energy = 20
        }
    }

    upgrades = {
    }
}

building_roz_dimensional_fabricator = {
    base_buildtime = @b2_time
    can_build = no
    can_demolish = yes
    can_be_disabled = no
    can_be_ruined = no
    icon = building_dimensional_fabricator
    building_sets = {
        urban
        government
    }  
    category = manufacturing

    potential = {
        exists = owner
        solar_system = {
            has_star_flag = graygoo_factory_system
        }
        owner = { has_country_flag = roz_lgate_create_flag }
    }

    planet_modifier = {
        job_miner_add = 200
    }

    resources = {
        category = planet_buildings
        produces = {
            minerals = 400
            rare_crystals = 15
            exotic_gases = 15
            volatile_motes = 15
            sr_zro = 2
            sr_dark_matter = 2
            sr_living_metal = 2
            nanites = 2
        }
        produces = {
            trigger = {
                exists = owner
            }
            sr_zro = 2
            sr_dark_matter = 2
            sr_living_metal = 2
            minor_artifacts = 1
        }
        upkeep = {
            energy = 10
            minerals = 10
        }
    }

    upgrades = {
    }
}

building_roz_class_5_singularity = {
    base_buildtime = @b2_time
    can_build = no
    can_demolish = yes
    can_be_disabled = no
    can_be_ruined = no
    icon = building_bio_reactor_2
    building_sets = {
        urban
        government
    }  
    category = resource

    potential = {
        exists = owner
        # solar_system = {
        #     has_star_flag = graygoo_factory_system
        # }
        # owner = { has_country_flag = roz_lgate_create_flag }

    }
    inline_script = {
        script = jobs/technicians_add
        AMOUNT = @fe_jobs
    }
    triggered_planet_modifier = {
        potential = {
            
        }
    }
    planet_modifier = {

    }

    resources = {
        category = planet_buildings
        produces = {
            energy = 500
        }
    }

    upgrades = {
    }

}

building_roz_nano_forge = {
    base_buildtime = @b2_time
    can_build = no
    can_demolish = yes
    can_be_disabled = no
    can_be_ruined = no
    icon = building_nano_forge
    category = manufacturing
    building_sets = {
        urban
        government
    }  
    potential = {
        exists = owner
        solar_system = {
            has_star_flag = graygoo_factory_system
        }
        owner = { has_country_flag = roz_lgate_create_flag }
    }

    destroy_trigger = {
        always = no
    }
    inline_script = {
        script = jobs/foundry_add
        AMOUNT = @fe_jobs
    }
    planet_modifier = {
        planet_structures_upkeep_mult = -0.05
    }

    resources = {
        category = planet_buildings
        produces = {
            alloys = 50
        }
        upkeep = {
            minerals = 20
            energy = 20
            #volatile_motes = 1
            #sr_dark_matter = 1
        }
    }

    upgrades = {
    }

}

building_roz_master_archive = {
    base_buildtime = @b2_time
    can_build = no
    can_demolish = yes
    can_be_disabled = no
    can_be_ruined = no
    icon = building_syndicate_outreach_office
    category = research
    building_sets = {
        urban
        government
    }  
    potential = {
        exists = owner
        solar_system = {
            has_star_flag = graygoo_factory_system
        }
        owner = { has_country_flag = roz_lgate_create_flag }
    }

    triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_politician_add = @fe_jobs
		}
	}
    triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		text = job_head_researcher_effect_desc
	}

    triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			job_calculator_physicist_add = @fe2_jobs
			job_calculator_biologist_add = @fe2_jobs
			job_calculator_engineer_add = @fe2_jobs
		}
	}
    triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		text = job_brain_drone_effect_desc
	}

    triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			job_calculator_physicist_add = @fe2_jobs
			job_calculator_biologist_add = @fe2_jobs
			job_calculator_engineer_add = @fe2_jobs
		}
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		text = job_calculator_effect_desc
	}

    triggered_planet_modifier = {
        potential = {
            exists = owner
        }
        planet_jobs_physics_research_produces_mult = 0.15
        planet_jobs_society_research_produces_mult = 0.15
        planet_jobs_engineering_research_produces_mult = 0.15
    }

    resources = {
        category = planet_buildings
        produces = {
            physics_research = 250
            society_research = 250
            engineering_research = 250
        }
        upkeep = {
            energy = 30
        }
    }

    upgrades = {
    }
}

building_roz_fe_dome = {
    base_buildtime = @b2_time
    can_build = no
    icon = building_fe_dome
    building_sets = {
        urban
        government
    }  
    category = amenity

    potential = {
        exists = owner
        solar_system = {
            has_star_flag = graygoo_factory_system
        }
        owner = { has_country_flag = roz_lgate_create_flag }
    }

    planet_modifier = {
		planet_housing_add = 5000
		planet_amenities_add = 5000
		planet_pops_upkeep_mult = -0.10
        planet_crime_add = -10
	}

    triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_machine_servitor
			}
		}
		job_bio_trophy_add = 5000
	}

    resources = {
        category = planet_buildings
        upkeep = {
            energy = 10
        }
    }

}

building_roz_fe_stronghold = {
    base_buildtime = @b2_time
    can_build = no
    icon = building_fe_fortress
    building_sets = {
        urban
        government
    }  
    category = army

    potential = {
        exists = owner
        solar_system = {
            has_star_flag = graygoo_factory_system
        }
        owner = { has_country_flag = roz_lgate_create_flag }
    }

    destroy_trigger = {
        always = no
    }

    planetary_ftl_inhibitor = yes

    triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = no }
			NOT = { has_modifier = slave_colony }
		}
		modifier = {
			job_soldier_add = @fe_jobs
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = no }
			has_modifier = slave_colony
		}
		modifier = {
			job_battle_thrall_add = @fe_jobs
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_warrior_drone_add = @fe_jobs
		}
	}

	planet_modifier = {
		planet_orbital_bombardment_damage = -0.5
	}

    resources = {
        category = planet_buildings
        cost = {
            minerals = @b2_minerals
        }
        upkeep = {
            energy = 20
        }
    }

    triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = no }
		}
		text = job_soldier_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_warrior_drone_effect_desc
	}
}

building_roz_fe_administration_2 = {
    base_buildtime = @b2_time
    can_build = no
    icon = building_fe_administration_2
    category = unity
    building_sets = {
        urban
        government
    }  
    potential = {
        exists = owner
    }

    destroy_trigger = {
        always = no
    }

    resources = {
        category = planet_buildings
        cost = {
            alloys = @b3_minerals
        }
        produces = {
            unity = 50
        }
    }

    planet_modifier = {
        pop_housing_usage_mult = -0.15
        planet_crime_add = -10
    }

    triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire = no
				is_megacorp = no
				is_worker_coop_empire = no
			}
		}
		modifier = {
			job_bureaucrat_add = @fe2_jobs
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_fallen_empire = no
				is_megacorp = no
				is_worker_coop_empire = no
			}
		}
		text = job_bureaucrat_effect_desc
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire = no
				is_megacorp = yes
				is_worker_coop_empire = no
			}
		}
		modifier = {
			job_bureaucrat_add = @fe2_jobs
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_fallen_empire = no
				is_megacorp = yes
				is_worker_coop_empire = no
			}
		}
		text = job_manager_effect_desc
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire = no
				is_worker_coop_empire = yes
			}
		}
		modifier = {
			job_bureaucrat_add = @fe2_jobs
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_fallen_empire = no
				is_worker_coop_empire = yes
			}
		}
		text = job_steward_effect_desc
	}
}

building_roz_fe_clinic_2 = {
    base_buildtime = @b2_time
    can_build = no
    icon = building_fe_clinic_2
    category = amenity
    building_sets = {
        urban
        government
    }  
    potential = {
        exists = owner
    }

    destroy_trigger = {
        always = no
    }

    resources = {
        category = planet_buildings
        cost = {
            alloys = @b3_minerals
        }
        upkeep = {
            #exotic_gases = 2
            alloys = @b2_upkeep
            energy = 15
        }
    }

    country_modifier = {
        leader_lifespan_add = 2
    }

    inline_script = {
		script = jobs/spawning_drone_add
		AMOUNT = @building_static_jobs_high
	}

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                is_regular_empire = no
            }
        }
        modifier = {
            job_spawning_drone_add = 3
        }
    }

    triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
			}
		}
		modifier = {
			job_healthcare_add = @fe_jobs
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_gene_tailoring
			}
			any_owned_pop_group = {
				has_auto_modding_trait = yes
			}
		}
		modifier = {
			auto_mod_monthly_add = 600
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				game_start_auto_mod_empire = yes
			}
			any_owned_pop_group = {
				has_auto_modding_trait = yes
			}
		}
		modifier = {
			auto_mod_monthly_add = 600
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_country_flag = clone_army_full_potential
				has_active_tradition = tr_cloning_artificial_population_clone_army
			}
		}
		clone_soldiers_sustained = @clones_sustained_low
		mult = 4
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				OR = {
					has_purity_heightened_attributes_tradition = yes
					has_cloning_artificial_population_tradition = yes
					has_mutation_somatic_subversiveness_tradition = yes
				}
			}
		}
		pop_bonus_workforce_mult = @medical_workforce_mult
		mult = 4
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_regular_empire = yes
			}
		}
		text = job_healthcare_effect_desc
	}
}

building_roz_fe_market_2 = {
    base_buildtime = @b2_time
    can_build = no
    icon = building_fe_market_2
    category = trade

    building_sets = {
        urban
        government
        trade
    }  

    potential = {
        exists = owner
    }

    destroy_trigger = {
        always = no
    }

    resources = {
        category = planet_buildings
        cost = {
            alloys = @b3_minerals
        }
        upkeep = {
            #rare_crystals = 2
            alloys = @b2_upkeep
            energy = 15
        }
    }

    inline_script = {
		script = "jobs/trader_add"
		AMOUNT = @building_static_jobs
	}

    country_modifier = {
		country_trade_produces_mult = 0.01
	}

	planet_modifier = {
		planet_traders_trade_produces_add = 0.5
	}

	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
			}
		}
		branch_office_value_mult = 0.05
	}
}

building_roz_fe_silo_2 = {
    base_buildtime = @b2_time
    can_build = no
    icon = building_fe_silo_2
    category = resource

    potential = {
        exists = owner
    }

    building_sets = {
		urban
		generator
		mining
		farming
        government
	}

    destroy_trigger = {
        always = no
    }

    resources = {
        category = planet_buildings
        cost = {
            alloys = @b3_minerals
        }
        upkeep = {
            alloys = @b2_upkeep
            energy = 15
        }
    }

    country_modifier = {
        country_resource_max_add = 300000
    }
}

building_roz_fe_entertainment_2 = {
    base_buildtime = @b2_time
    can_build = no
    icon = building_fe_entertainment_2
    category = amenity

    potential = {
        exists = owner
    }

    building_sets = {
		urban
        government
	}

    destroy_trigger = {
        always = no
    }

    resources = {
        category = planet_buildings
        cost = {
            alloys = @b3_minerals
        }
        upkeep = {
            #rare_crystals = 2
            alloys = @b2_upkeep
            energy = 15
        }
    }

    planet_modifier = {
		job_entertainer_add = @fe_jobs
		planet_amenities_add = 10000
	}

    triggered_desc = {
        text = job_entertainer_effect_desc
    }
}

building_roz_fe_lab_2 = {
    base_buildtime = @b2_time
    can_build = yes
    icon = building_fe_lab_2
    category = research

    building_sets = {
        urban
		research
		physics
		society
		engineering
        government
	}

    potential = {
        exists = owner
        NOT = {
            has_building = building_roz_fe_lab_2
        }
        num_buildings = {
            type = building_roz_fe_lab_2
            value = 0
        }
        owner = {
            has_country_flag = roz_SK_3_start_reward
        }
    }

    destroy_trigger = {
        always = no
    }

    inline_script = {
		script = "jobs/politician_add"
		AMOUNT = @building_static_jobs
	}

    resources = {
        category = planet_buildings
        cost = {
            alloys = @b3_minerals
        }
        upkeep = {
            #exotic_gases = 2
            alloys = @b3_upkeep
            energy = 30
        }
        produces = {
            physics_research = 75
            society_research = 75
            engineering_research = 75
        }
    }

    country_modifier = {
        all_technology_research_speed = 0.05
    }

    triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_regular_empire = yes
			}
		}
		text = job_head_researcher_desc
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_physicist_add = 400
			job_biologist_add = 400
			job_engineer_add = 400
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			job_calculator_physicist_add = @fe_jobs
			job_calculator_biologist_add = @fe_jobs
			job_calculator_engineer_add = @fe_jobs
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			job_calculator_physicist_add = @fe_jobs
			job_calculator_biologist_add = @fe_jobs
			job_calculator_engineer_add = @fe_jobs
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_galactic_community_member = yes
			}
			is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
			has_modifier = pm_extradimensional_experimentation
		}
		modifier = {
			job_physicist_add = 200
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
				is_galactic_community_member = yes
			}
			is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
			has_modifier = pm_extradimensional_experimentation
		}
		modifier = {
			job_dimensional_portal_researcher_gestalt_add = 200
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		text = job_researcher_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		text = job_brain_drone_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		text = job_calculator_effect_desc
	}
}

building_roz_fe_mine_2 = {
    base_buildtime = @b2_time
    can_build = no
    icon = building_fe_mine_2
    category = resource

    potential = {
        exists = owner
    }
    building_sets = {
        urban
        government
    }  
    destroy_trigger = {
        always = no
    }

    inline_script = {
		script = jobs/miners_add
		AMOUNT = @fe_jobs
	}

    resources = {
        category = planet_buildings
        cost = {
            alloys = @b3_minerals
        }
        upkeep = {
            #volatile_motes = 2
            alloys = @b3_upkeep
            energy = 30
        }
        produces = {
            minerals = 400
        }
    }

    triggered_planet_modifier = {
		potential = {
			NOT = { is_planet_class = pc_shattered_ring_habitable }
			exists = owner
			owner = { is_fallen_empire_spiritualist = yes }
		}
		modifier = {
			job_fe_acolyte_mine_add = @fe_jobs
		}
	}

	triggered_desc = {
		trigger = {
			NOT = { is_planet_class = pc_shattered_ring_habitable }
			exists = owner
			owner = { is_fallen_empire_spiritualist = yes }
		}
		text = job_fe_acolyte_mine_effect_desc
	}

}












