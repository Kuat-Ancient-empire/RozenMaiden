@entity_x = 0
@entity_y = 0
roz_mega_wanxiangtianyin = {
    entity = roz_ju_megastructure
    construction_entity = "roz_ju_megastructure"
    portrait = "GFX_roz_mega_wanxiangtianyin"
    place_entity_on_planet_plane = no
    entity_offset = { x = @entity_x y = @entity_y }
    build_time = 1
    resources = {
        category = megastructures
        cost = {

        }
        upkeep = {
            energy = 50
            influence = 1
        }

        produces = {
            sr_void_core = 60
            alloys = 35

            mult = value:roz_mega_wanxiangtianyin_trigger_values
        }
    }
    possible = {

    }

    station_modifier = {
        starbase_shipyard_capacity_add = 15
    }
    #upgrade_from = {
    #
    #}


    potential = {
        always = no
    }

    country_modifier = {
        diplo_weight_mult = 0.250
    }
}

roz_mega_wanxiangtianyin_undeploy = {
    entity = roz_ju_megastructure
    construction_entity = "roz_ju_megastructure"
    portrait = "GFX_roz_mega_wanxiangtianyin"
    place_entity_on_planet_plane = no
    entity_offset = { x = @entity_x y = @entity_y }
    build_time = 1
    resources = {
        category = megastructures
        cost = {
            energy = 4000
            sr_void_core = 1
        }

        upkeep = {
        }

        produces = {
        }
    }

    upgrade_from = {
        roz_mega_wanxiangtianyin
    }
    on_build_complete = {
        create_fleet = {
            name = "roz_juggernaut_wanxiang_section"
            settings = {
                #is_boss = yes
                can_upgrade = yes
            }
            effect = {
                set_owner = from
                set_fleet_flag = roz_juggernaut_wanxiang_flag
                set_location = fromfrom
                create_ship = {
                    name = juggernaut
                    graphical_culture = owner
                    design = random_existing_design
                    random_existing_design = roz_juggernaut_wanxiang
                }
            }
        }
        fromfrom = {
            remove_megastructure = this
        }
    }

    possible = {
        has_megastructure = roz_mega_wanxiangtianyin
    }

    country_modifier = {

    }
}


###资讯重构仪
#基址
roz_mega_information_remodeler_base = {
    entity = ROZ_IRR_stage1_entity
    construction_entity = ROZ_IRR_stage1_entity
    portrait = GFX_roz_mega_information_remodeler
    place_entity_on_planet_plane = yes
    entity_offset = { x = @entity_x y = @entity_y }
    build_time = 1800
    prerequisites = {
        tech_roz_information_remodeler
    }
    resources = {
        category = megastructures
        cost = {
            energy = 10000
            alloys = 10000
            sr_void_core = 1000
            sr_dark_matter = 1500
        }

        upkeep = {
        }

        produces = {
        }
    }
    possible = {
        hidden_trigger = {
            exists = starbase
        }
    }
    placement_rules = {
		planet_possible = {
			custom_tooltip = {
				fail_text = "must_build_around_star"
				is_star = yes
			}
		}
        space_owner = {
            is_ai = no
        }
	}
    potential = {
        has_country_flag = roz_SK_3_start_reward
    }
    country_modifier = {
        country_produces_mult = 0.10
    }
    on_build_complete = {
        from = {
            country_event = {
                id = roz_shinku_evt.512
                days = 2
            }
        }
    }
}

roz_mega_information_remodeler = {
    entity = ROZ_IRR_main_entity
    construction_entity = ROZ_IRR_main_entity
    portrait = GFX_roz_mega_information_remodeler
    place_entity_on_planet_plane = yes
    entity_offset = { x = @entity_x y = @entity_y }
    build_time = 1800
    resources = {
        category = megastructures
        cost = {
            energy = 10000
            alloys = 10000
            sr_void_core = 1000
            sr_dark_matter = 1500
        }

        upkeep = {
        }

        produces = {
            energy = 1500
            alloys = 1000
            sr_void_core = 150
        }
    }
    country_modifier = {
        country_produces_mult = 0.30
        country_naval_cap_add = 2000
        all_technology_research_speed = 0.15
    }
    potential = {
        is_ai = no
    }
    possible = {
        has_megastructure = roz_mega_information_remodeler_base
        from = {
            has_relic = r_roz_extrinsic_xinlin_crystal
            has_technology = tech_roz_information_remodeler
        }

    }
    upgrade_from = {
        roz_mega_information_remodeler_base
    }
    on_build_complete = {
        from = {
            country_event = {
                id = roz_shinku_evt.513
                days = 2
            }
        }
    }
}

roz_mega_information_remodeler_effect = {
    entity = ROZ_IRR_main_entity
    construction_entity = ROZ_IRR_main_entity
    portrait = GFX_roz_mega_information_remodeler
    place_entity_on_planet_plane = no
    entity_offset = { x = @entity_x y = @entity_y }
    build_time = 1
    resources = {
        category = megastructures
        cost = {
            energy = 10000
            sr_void_core = 100
        }

        upkeep = {
        }

        produces = {
        }
    }
    possible = {
        from = {
            has_country_flag = roz_SK_IR_enable
        }
    }
    upgrade_from = {
        roz_mega_information_remodeler
    }
    on_build_complete = {
        solar_system = {
            spawn_megastructure = {
				type = roz_mega_information_remodeler
				planet = root.star
				owner = prev.from
			}
        }
        fromfrom = {
            remove_megastructure = this
        }
        from = {
            country_event = {
                id = roz_shinku_evt.514
            }
        }
    }

    possible = {
        from = { NOT = { has_country_flag = roz_mega_information_remodeler_active } }
    }
    potential = {
        NOT = {
            has_country_flag = roz_mega_information_remodeler_active
        }
    }

    country_modifier = {

    }
}

roz_mega_information_remodeler_destoryed = {
    entity = ROZ_IRR_destroyed_entity
    construction_entity = ROZ_IRR_destroyed_entity
    portrait = GFX_roz_mega_information_remodeler
    place_entity_on_planet_plane = yes
    entity_offset = { x = @entity_x y = @entity_y }
    build_time = 1800

    resources = {
        category = megastructures
        cost = {
            alloys = 99999999999
        }

        upkeep = {
            energy = 50
        }

        produces = {
            physics_research = 500
            society_research = 250
            engineering_research = 500
        }
    }
    potential = {
        always = no
        is_ai = no
    }
    possible = {
        always = no
        space_owner = {
            is_ai = no
        }
    }
    placement_rules = {
        space_owner = {
            is_ai = no
        }
        always = no
    }
    country_modifier = {
        all_technology_research_speed = 0.10
    }
}

